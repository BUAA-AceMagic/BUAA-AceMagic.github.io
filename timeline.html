<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="./image/logo.png" type="image/x-icon"/>
  <link rel="stylesheet" href="./css/nav.css">
  <link rel="stylesheet" href="./css/all.css">
  <link rel="stylesheet" href="./css/timeline.css">
  <title>Ace魔术社</title>
  <style>
    body .shell-main-nav ul .nav-box {
          left: 240px;
      }
  </style>
</head>

<body>
<!--  <div class="shell">-->
    <!--	  主体-->
    <div class="shell-main" style="top : 0 ; margin-bottom: 0">
<!--	    顶部导航栏-->
      <div class="shell-main-nav" style="margin-bottom: 0">
        <div class="logo">
            <img src="./image/logo.png" alt="">
            <span>Ace魔术社</span>
        </div>
        <ul>
          <li><a href="./index.html">关于我们</a></li>
          <li><a href="details.html">社团章程</a></li>
          <li><a href="./timeline.html">魔幻之夜</a></li>
          <li><a href="record.html">社员档案</a></li>
          <li><a href="./Template.html">社员风采</a></li>
          <li>登录</li>
          <div class="nav-box"></div>
        </ul>
      </div>

      <div class="shell-timeline" id="shell-timeline" style>
        <div class="header">
          <h2 class="title">Aceの魔幻之夜</h2>
          <h3 class="subtitle">Ace魔术社</h3>
        </div>
        <div class="timeline">
<!--					2014-->
          <div class="item" data-text="《星火》">
            <div class="content">
              <img class="img" src="./image/timeline/2014.png" />
              <h2 class="content-title">2014</h2>
              <p class="content-desc">
                &emsp;&emsp;这是我们的第一次晚会，命运的齿轮开始转动。
              </p>
            </div>
          </div>
<!--	        2015-->
	        <div class="item" data-text="《2015》">
            <div class="content">
              <img class="img" src="./image/timeline/2015.jpg" />
              <h2 class="content-title">2015</h2>
              <p class="content-desc">
              </p>
            </div>
          </div>
<!--	        2016-->
	        <div class="item" data-text="《2016》">
            <div class="content">
              <img class="img" src="./image/timeline/2016.jpg" />
              <h2 class="content-title">2016</h2>
              <p class="content-desc">
              </p>
            </div>
          </div>
<!--	        2017-->
	        <div class="item" data-text="《2017》">
            <div class="content">
              <img class="img" src="./image/timeline/2017.jpg" />
              <h2 class="content-title">2017</h2>
              <p class="content-desc">
              </p>
            </div>
          </div>
<!--	        2019-->
	        <div class="item" data-text="《2019》">
            <div class="content">
              <img class="img" src="./image/timeline/2019.jpg" />
              <h2 class="content-title">2019</h2>
              <p class="content-desc">
              </p>
            </div>
          </div>
<!--          2021-->
	        <div class="item" data-text="《啊吧啊吧》">
					  <div class="content">
					    <img class="img" src="./image/timeline/2021.jpg" />
					    <h2 class="content-title">2021</h2>
					    <p class="content-desc">
						    &emsp;&emsp;在这里发生的每一个Impossible的瞬间，都始于我们那不止于一面之缘的友情。<br>
						    &emsp;&emsp;我们数着玻璃杯中扑克牌的排序，听着那一首可乐狂想曲，把玩着那根永远剪不断的天洋绳，
						    遐想着平行世界中的我们在做些什么，感恩着现实中有你陪伴左右。
						    我们喊着Nothing is true的口号，偷用着鬼婴的魔法，在今晚化身造梦师，创造着每一个看似偶然的奇迹。 <br>
						    &emsp;&emsp;感谢各位！<br>
						    &emsp;&emsp;魔幻之夜，晚安。 <br>
						    &emsp;&emsp;&emsp;&emsp;——社长陈宗劭
					    </p>
					  </div>
					</div>
<!--					2023-->
          <div class="item" data-text="《皮卡皮卡》">
				  <div class="content">
				    <img class="img" src="./image/timeline/2023.jpg" />
				    <h2 class="content-title">2023</h2>
				    <p class="content-desc">
				      新冠疫情终于终结，两届共同举办了这一次的魔幻之夜。
				    </p>
				  </div>
				</div>
<!--					2024-->
            <div class="item" data-text="《2024》">
                <div class="content">
                    <img class="img" src="./image/timeline/2024.jpg" />
                    <h2 class="content-title">2024</h2>
                    <p class="content-desc">
                        Ace魔术社再度成为五星社团！
                    </p>
                </div>
            </div>
	       
        </div>
      </div>

      <div class="shell-main-footer" style="transform: translateY(0)">
        <span>magic-Ace<br>如有侵权，请联系作者删除</span>
      </div>
    </div>


<!--  </div>-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script>
      (function ($) {
          $.fn.timeline = function () {
              var selectors = {
                  id: $(this),
                  item: $(this).find(".item"),
                  activeClass: "item--active",
                  img: ".img"
              };
              // 将第一个时间轴项目激活，并设置时间轴背景图片为第一个项目的图片
              selectors.item.eq(0).addClass(selectors.activeClass);
              selectors.id.css(
                  "background-image",
                  "url(" +
                  selectors.item
                      .first()
                      .find(selectors.img)
                      .attr("src") +
                  ")"
              );
              // 获取时间轴项目的总数
              var itemLength = selectors.item.length;
              // 当页面滚动时，触发滚动事件
              $(window).scroll(function () {
                  var max, min;
                  // 获取页面滚动的距离
                  var pos = $(this).scrollTop();
                  selectors.item.each(function (i) {
                      // 获取当前时间轴项目的最小和最大高度
                      min = $(this).offset().top;
                      max = $(this).height() + $(this).offset().top;
                      var that = $(this);
                      // 如果滚动到最后一个项目，并且超过了当前项目高度的一半，
                      // 则将最后一个项目设置为激活状态，并设置背景图片为最后一个项目的图片
                      if (i == itemLength - 2 && pos > min + $(this).height() / 2) {
                          selectors.item.removeClass(selectors.activeClass);
                          selectors.id.css(
                              "background-image",
                              "url(" +
                              selectors.item
                                  .last()
                                  .find(selectors.img)
                                  .attr("src") +
                              ")"
                          );
                          selectors.item.last().addClass(selectors.activeClass);
                      }
                          // 如果当前滚动位置在当前项目的最小和最大高度之间，
                      // 则将当前项目设置为激活状态，并设置背景图片为当前项目的图片
                      else if (pos <= max - 10 && pos >= min) {
                          selectors.id.css(
                              "background-image",
                              "url(" +
                              $(this)
                                  .find(selectors.img)
                                  .attr("src") +
                              ")"
                          );
                          selectors.item.removeClass(selectors.activeClass);
                          $(this).addClass(selectors.activeClass);
                      }
                  });
              });
          };
      })(jQuery)
      /*
      最后，我们调用 timeline 插件并传入时间轴的 ID 作为参数。
      这将启用时间轴插件并为该时间轴绑定滚动事件。
      */
      $("#shell-timeline").timeline();
  </script>
<audio id="audio" src="./music/music.mp3" autoplay loop style="display: none;" ></audio>
<script src="./js/audio.js"></script>
</body>

</html>