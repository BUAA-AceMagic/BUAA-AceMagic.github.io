<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="./image/logo.png" type="image/x-icon"/>
  <link rel="stylesheet" href="./css/nav.css">
  <link rel="stylesheet" href="./css/all.css">
  <link rel="stylesheet" href="./css/timeline.css">
  <title>Ace魔术社</title>
  <style>
    body .shell-main-nav ul .nav-box {
          left: 240px;
      }
  </style>
</head>

<body>
<!--  <div class="shell">-->
    <!--	  主体-->
    <div class="shell-main" style="top : 0 ; margin-bottom: 0">
<!--	    顶部导航栏-->
      <div class="shell-main-nav" style="margin-bottom: 0">
        <div class="logo">
            <img src="./image/logo.png" alt="">
            <span>Ace魔术社</span>
        </div>
        <ul>
          <li><a href="./index.html">关于我们</a></li>
          <li><a href="details.html">社团章程</a></li>
          <li><a href="./timeline.html">魔幻之夜</a></li>
          <li><a href="record.html">社员档案</a></li>
          <li><a href="./Template.html">社员风采</a></li>
          <li><a href="./Login.html">登录</a></li>
          <div class="nav-box"></div>
        </ul>
      </div>

      <div class="shell-timeline" id="shell-timeline" style>
        <div class="header">
          <h2 class="title">Aceの魔幻之夜</h2>
          <h3 class="subtitle">Ace魔术社</h3>
        </div>
        <div class="timeline">

          <div class="item" data-text="《舞！舞！舞！》">
            <div class="content">
              <img class="img" src="./image/img2/21.jpg" />
              <h2 class="content-title">2021</h2>
              <p class="content-desc">
                你要做一个不动声色的大人了。不准情绪化，不准偷偷想念，不准回头看。去过自己另外的生活。你要听话，不是所有的鱼都会生活在同一片海里。
              </p>
            </div>
          </div>

          <div class="item" data-text="《你的孤独，虽败犹荣》">
            <div class="content">
              <img class="img" src="./image/img2/22.jpg" />
              <h2 class="content-title">2022</h2>
              <p class="content-desc">
                如果你停止，就是谷底。如果你还在继续，就是上坡。这是我听过关于人生低谷最好的阐述。
              </p>
            </div>
          </div>
	        
	        <div class="item" data-text="《舞！舞！舞！》">
            <div class="content">
              <img class="img" src="./image/img2/21.jpg" />
              <h2 class="content-title">2021</h2>
              <p class="content-desc">
                你要做一个不动声色的大人了。不准情绪化，不准偷偷想念，不准回头看。去过自己另外的生活。你要听话，不是所有的鱼都会生活在同一片海里。
              </p>
            </div>
          </div>

          <div class="item" data-text="《你的孤独，虽败犹荣》">
            <div class="content">
              <img class="img" src="./image/img2/22.jpg" />
              <h2 class="content-title">2022</h2>
              <p class="content-desc">
                如果你停止，就是谷底。如果你还在继续，就是上坡。这是我听过关于人生低谷最好的阐述。
              </p>
            </div>
          </div>
	        
	        <div class="item" data-text="《舞！舞！舞！》">
            <div class="content">
              <img class="img" src="./image/img2/21.jpg" />
              <h2 class="content-title">2021</h2>
              <p class="content-desc">
                你要做一个不动声色的大人了。不准情绪化，不准偷偷想念，不准回头看。去过自己另外的生活。你要听话，不是所有的鱼都会生活在同一片海里。
              </p>
            </div>
          </div>

          <div class="item" data-text="《你的孤独，虽败犹荣》">
            <div class="content">
              <img class="img" src="./image/img2/22.jpg" />
              <h2 class="content-title">2022</h2>
              <p class="content-desc">
                如果你停止，就是谷底。如果你还在继续，就是上坡。这是我听过关于人生低谷最好的阐述。
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="shell-main-footer">
        <span>magic-Ace<br>如有侵权，请联系作者删除</span>
      </div>
    </div>


<!--  </div>-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script>
      (function ($) {
          $.fn.timeline = function () {
              var selectors = {
                  id: $(this),
                  item: $(this).find(".item"),
                  activeClass: "item--active",
                  img: ".img"
              };
              // 将第一个时间轴项目激活，并设置时间轴背景图片为第一个项目的图片
              selectors.item.eq(0).addClass(selectors.activeClass);
              selectors.id.css(
                  "background-image",
                  "url(" +
                  selectors.item
                      .first()
                      .find(selectors.img)
                      .attr("src") +
                  ")"
              );
              // 获取时间轴项目的总数
              var itemLength = selectors.item.length;
              // 当页面滚动时，触发滚动事件
              $(window).scroll(function () {
                  var max, min;
                  // 获取页面滚动的距离
                  var pos = $(this).scrollTop();
                  selectors.item.each(function (i) {
                      // 获取当前时间轴项目的最小和最大高度
                      min = $(this).offset().top;
                      max = $(this).height() + $(this).offset().top;
                      var that = $(this);
                      // 如果滚动到最后一个项目，并且超过了当前项目高度的一半，
                      // 则将最后一个项目设置为激活状态，并设置背景图片为最后一个项目的图片
                      if (i == itemLength - 2 && pos > min + $(this).height() / 2) {
                          selectors.item.removeClass(selectors.activeClass);
                          selectors.id.css(
                              "background-image",
                              "url(" +
                              selectors.item
                                  .last()
                                  .find(selectors.img)
                                  .attr("src") +
                              ")"
                          );
                          selectors.item.last().addClass(selectors.activeClass);
                      }
                          // 如果当前滚动位置在当前项目的最小和最大高度之间，
                      // 则将当前项目设置为激活状态，并设置背景图片为当前项目的图片
                      else if (pos <= max - 10 && pos >= min) {
                          selectors.id.css(
                              "background-image",
                              "url(" +
                              $(this)
                                  .find(selectors.img)
                                  .attr("src") +
                              ")"
                          );
                          selectors.item.removeClass(selectors.activeClass);
                          $(this).addClass(selectors.activeClass);
                      }
                  });
              });
          };
      })(jQuery)
      /*
      最后，我们调用 timeline 插件并传入时间轴的 ID 作为参数。
      这将启用时间轴插件并为该时间轴绑定滚动事件。
      */
      $("#shell-timeline").timeline();
  </script>
</body>

</html>